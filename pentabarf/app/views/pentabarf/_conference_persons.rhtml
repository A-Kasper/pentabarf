<div id="content-persons">
  <fieldset>
    <legend>Persons</legend>
    <table id="persons_table">
      <thead>
        <tr>
          <th colspan="2"><[table::event_person::person]></th>
          <th><[table::event_person::event_role]></th>
        </tr>
      </thead>
      <tbody id="person_table_body">
      <% @persons = Momomoto::View_conference_persons.find({:conference_id=>@conference.conference_id,:translated_id=>@current_language_id}) %>
      <% @persons.each_unique(:person_id) do | person | %>
        <tr>
          <td>
            <a href="<%= url_for(:controller=>'pentabarf',:action=>'person',:id=>person.person_id) %>">
              <img src="<%= url_for(:controller=>'image',:action=>'person',:id=> person.person_id) %>"/></td>
            </a>
          <td>
            <a href="<%= url_for(:controller=>'pentabarf',:action=>'person',:id=>person.person_id) %>">
              <%= h(person.name) %>
            </a>
          </td>
          <% roles = []
             @persons.each_by_value({:person_id => person.person_id}) do | role | roles << h(role.event_role) end %>
          <td>
            <a href="<%= url_for(:controller=>'pentabarf',:action=>'person',:id=>person.person_id) %>">
              <%= roles.uniq.sort.join(', ') %>
            </a>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </fieldset>
</div>
